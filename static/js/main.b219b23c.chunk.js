(this["webpackJsonpshape-box"]=this["webpackJsonpshape-box"]||[]).push([[0],{49:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),s=n.n(c),i=(n(48),n(49),n(16)),o=n(22),u=n(8),l=n(4),j={loading:!0,error:null,shapes:[],shapeOptions:[{name:"Square",value:"square"},{name:"Circle",value:"circle"},{name:"Triangle",value:"triangle"}]},d=function(e,t){switch(t.type){case"LOAD":return Object(u.a)(Object(u.a)({},e),{},{loading:!0,error:null});case"ERROR":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:t.payload});case"ADD":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:null,shapes:[].concat(Object(o.a)(e.shapes),Object(o.a)(t.payload))});case"UPDATE":return Object(u.a)(Object(u.a)({},e),{},{shapes:[].concat(Object(o.a)(e.shapes),[t.payload])});default:return e}},h=r.a.createContext({}),b=function(e){var t=e.children,n=Object(a.useReducer)(d,j),r=Object(i.a)(n,2),c=r[0],s=r[1];return Object(l.jsx)(h.Provider,{value:{state:c,dispatch:s},children:t})},p=n(12),O=n.n(p),x=n(17),v=n(35),f=n(43),g=n(28),y=n(38),w=n(26),m=function(e){switch(e.type){case"square":return Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:"0 0 100 100",children:Object(l.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",children:Object(l.jsx)("title",{children:"Square"})})});case"circle":return Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:"0 0 100 100",children:Object(l.jsx)("circle",{cx:"50",cy:"50",r:"50",children:Object(l.jsx)("title",{children:"Circle"})})});case"triangle":return Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",viewBox:"0 0 100 100",children:Object(l.jsx)("polygon",{points:"50 0, 100 100, 0 100",children:Object(l.jsx)("title",{children:"Triangle"})})});default:return null}},C=n(42),k=n(27),S=n(41),T=n(23),D=function(e){return{type:"ADD",payload:e}},A=function(e){return{type:"ERROR",payload:e}},N="https://shapes.free.beeceptor.com/",B=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=Object(a.useContext)(h),n=t.state,r=n.shapes,c=n.shapeOptions,s=t.dispatch,j=Object(a.useState)("square"),d=Object(i.a)(j,2),b=d[0],p=d[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),y=g[0],w=g[1],m=Object(a.useState)(!1),C=Object(i.a)(m,2),D=C[0],A=C[1];return Object(l.jsxs)(T.a,Object(u.a)(Object(u.a)({},e),{},{onExit:function(){A(!1),w(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(l.jsx)(T.a.Header,{closeButton:!0,children:Object(l.jsx)(T.a.Title,{id:"contained-modal-title-vcenter",children:"Add Shape"})}),Object(l.jsxs)(T.a.Body,{children:[D&&Object(l.jsx)(v.a,{variant:"danger",children:"There was an error adding your shape. Try again."}),Object(l.jsx)(S.a,{children:c.map((function(e){var t=e.name,n=e.value;return Object(l.jsx)(S.a.Check,{label:t,type:"radio",id:n,value:n,checked:b===n,onChange:function(e){return p(e.currentTarget.value)}},n)}))})]}),Object(l.jsxs)(T.a.Footer,{children:[Object(l.jsx)(k.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"}),Object(l.jsx)(k.a,{disabled:y,onClick:function(){var t={id:Date.now(),type:b};w(!0),Object(x.a)(O.a.mark((function n(){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={shapes:[].concat(Object(o.a)(r),[t])},n.next=4,E(a);case 4:s({type:"UPDATE",payload:t}),w(!1),e.onSubmit(),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),A(!0),w(!1);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},type:"submit",children:"Add"})]})]}))};var P=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=function(){return r(!1)};return Object(l.jsx)(g.a,{className:"pb-3",children:Object(l.jsxs)(C.a,{className:"justify-content-end",children:[Object(l.jsxs)(C.a.Link,{as:k.a,variant:"primary",onClick:function(){return r(!0)},children:["Add Shape ",Object(l.jsx)("span",{"aria-hidden":"true",children:"+"})]}),Object(l.jsx)(R,{show:n,onHide:c,onSubmit:c})]})})},q=function(){var e=Object(a.useContext)(h),t=e.state,n=t.loading,r=t.error,c=t.shapes,s=e.dispatch;return Object(a.useEffect)((function(){(function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:t=e.sent,s(D(t.shapes)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(A(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),n?Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(f.a,{className:"align-middle",animation:"border",role:"status",variant:"primary",children:Object(l.jsx)("span",{className:"sr-only",children:"Loading"})})}):r?Object(l.jsx)(g.a,{children:Object(l.jsx)(y.a,{children:Object(l.jsx)(w.a,{children:Object(l.jsx)(v.a,{variant:"danger",children:"No shapes to play with right now. Try again later."})})})}):Object(l.jsxs)(g.a,{children:[Object(l.jsx)(y.a,{children:Object(l.jsx)(P,{})}),Object(l.jsx)(y.a,{children:c.map((function(e){var t=e.id,n=e.type;return Object(l.jsx)(w.a,{className:"pt-4",xs:"4",children:Object(l.jsx)(m,{type:n})},t)}))})]})};var F=function(){return Object(l.jsx)(b,{children:Object(l.jsx)(q,{})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(F,{})}),document.getElementById("root")),L()}},[[55,1,2]]]);
//# sourceMappingURL=main.b219b23c.chunk.js.map